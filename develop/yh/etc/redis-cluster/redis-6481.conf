port 6379
bind 0.0.0.0

protected-mode no

dir /data


# 开启aof持久化
appendonly yes

# 开启cluster集群模式
cluster-enabled yes
# 集群配置信息文件名, 记录了每个节点的地址、角色(master/slave)、slot等信息, 由redis自己生成, 位于数据目录下
cluster-config-file nodes.conf
# 集群节点连接超时时间，每个节点都会检查其它节点是否挂了
cluster-node-timeout 5000
# docker所在的宿主机ip
cluster-announce-ip host.docker.internal
# docker所在的宿主机映射端口
cluster-announce-port 6481
# docker所在的宿主机总线映射端口
cluster-announce-bus-port 16481